---
import * as Plot from "@observablehq/plot";
import { JSDOM } from "jsdom";

const { options } = Astro.props;

const plot = Plot.plot({ 
	...options, 
	document: new JSDOM("").window.document 
});
---

<div class="w-full overflow-hidden">
	<div class="chart-container" set:html={plot.outerHTML}></div>
</div>

<style>
	.chart-container :global(svg) {
		width: 100%;
		height: auto;
		background: transparent !important;
		border-radius: 12px;
	}

	/* Style all text elements to be light colored */
	.chart-container :global(svg text) {
		fill: #e2e8f0 !important;
		font-family: system-ui, -apple-system, sans-serif;
		font-size: 12px;
	}

	/* Style axis lines */
	.chart-container :global(svg .domain) {
		stroke: #64748b;
		stroke-width: 1;
	}

	.chart-container :global(svg .tick line) {
		stroke: #475569;
		stroke-width: 1;
	}

	/* Responsive adjustments */
	@media (max-width: 768px) {
		.chart-container :global(svg text) {
			font-size: 10px;
		}
	}
</style>